!function(e,t,o,n){function i(t,o){this.element=t,this.options=e.extend({},l,o),this.iconSelectElement,this._defaults=l,this._name=s,this.init()}var c,s="kIconSelect",l={iconSelectorClass:"icon-select",iconSelectorContainerClass:"icon-select__container",iconSelectorSelectedIconClass:"icon-select__selected-item-row",iconSelectorFilterClass:"icon-select__filter-row__filter",iconSelectorFilterAdditionalClass:"",iconSelectorFilterClear:"icon-select__filter-clear",iconSelectorIconListClass:"icon-select__icon-list",iconSelectorIconListItemClass:"icon-select__icon-list__item",selectorActive:"icon-select--active",selectorShow:"icon-select--show",selectorFilterActive:"icon-select--filtering",availableIcons:[],alternateInput:null,fontLibrary:"md",defaultIcon:"check",debounceTime:500,showHideTransitionTime:400,selectedIconSize:32,iconSize:16,closeOnSelect:!0,filterEnabled:!0};i.prototype={init:function(){this._setupMarkup(),this._initEvents()},_setupMarkup:function(){var t=this;e("<div class='"+t.options.iconSelectorClass+"'><div class='"+t.options.iconSelectorContainerClass+"'></div></div>").insertAfter(e(t.element)),this.iconSelectElement=e(t.element).siblings(t._eClass(t.options.iconSelectorClass));var o=e(t.iconSelectElement).find(t._eClass(t.options.iconSelectorContainerClass));e(o).append("<div class='"+t.options.iconSelectorSelectedIconClass+"'>"+t._buildIcon(t.options.defaultIcon,t.options.selectedIconSize)+"</div>"),e(o).append("<div class='icon-select__filter-row'><input type='text' class='"+t.options.iconSelectorFilterClass+" "+t.options.iconSelectorFilterAdditionalClass+"' placeholder='Filter Icons'/><button class='"+t.options.iconSelectorFilterClear+"'>x</a></button>"),e(o).append("<div class='"+t.options.iconSelectorIconListClass+"'></div>");var n=e(o).find(t._eClass(t.options.iconSelectorIconListClass));e(t.options.availableIcons).each(function(o,i){e(n).append("<div class='"+t.options.iconSelectorIconListItemClass+"'>"+t._buildIcon(i,t.options.iconSize)+"</div>")})},_buildIcon:function(e,t){return"md"==this.options.fontLibrary?"<i class='material-icons md-"+t+"'>"+e+"</i>":"fa"==this.options.fontLibrary?"<i class='fa "+e+"'></i>":void 0},_initEvents:function(){var t=this;e(t.element).on("click",function(e){e.preventDefault(),t.showSelector()}),e(t.iconSelectElement).find(t._eClass(t.options.iconSelectorIconListClass)).on("click",t._eClass(t.options.iconSelectorIconListItemClass),function(o){var n=e(this).text();t.setSelectedIcon(n),t.options.closeOnSelect&&t.hideSelector()}),t.options.filterEnabled&&(e(t.iconSelectElement).find(t._eClass(t.options.iconSelectorFilterClear)).on("click",function(){}),e(t.iconSelectElement).find(t._eClass(t.options.iconSelectorFilterClass)).on("keyup",function(){clearTimeout(c);var o=e(this).val();c=setTimeout(function(){""!=o?(e(t.iconSelectElement).addClass(t.options.selectorFilterActive),e(t.iconSelectElement).find(t._eClass(t.options.iconSelectorIconListItemClass)+" i:contains('"+o+"')").parent().addClass("item--matched")):(e(t.iconSelectElement).find(t._eClass(t.options.iconSelectorIconListItemClass)).parent().removeClass("item--matched"),e(t.iconSelectElement).removeClass(t.options.selectorFilterActive))},t.options.debounceTime)}))},_eClass:function(e){return"."+e},showSelector:function(){var t=this;e(t.iconSelectElement).addClass(t.options.selectorActive),setTimeout(function(){e(t.iconSelectElement).addClass(t.options.selectorShow),e(o).on("click.closeIconSelect",function(o){e(o.target).closest(t._eClass(t.options.iconSelectorClass)).length<1&&t.hideSelector()})},300)},hideSelector:function(){var t=this;e(t.iconSelectElement).removeClass(t.options.selectorShow),setTimeout(function(){e(t.iconSelectElement).removeClass(t.options.selectorActive),e(o).off("click.closeIconSelect")},500)},setSelectedIcon:function(t){var o=this;null!=o.options.alternateInput&&e(o.options.alternateInput).val(t).change(),e(o.iconSelectElement).find(o._eClass(o.options.iconSelectorSelectedIconClass)).empty().append(o._buildIcon(t,o.options.selectedIconSize))},filterIcons:function(e){}},e.fn[s]=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new i(this,t))})}}(jQuery,window,document);